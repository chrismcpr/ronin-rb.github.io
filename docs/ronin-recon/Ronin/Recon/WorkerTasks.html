<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Ronin::Recon::WorkerTasks
  
    &mdash; Ronin::Recon Documentation
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Ronin::Recon::WorkerTasks";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (W)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Ronin.html" title="Ronin (module)">Ronin</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Recon.html" title="Ronin::Recon (module)">Recon</a></span></span>
     &raquo; 
    <span class="title">WorkerTasks</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Ronin::Recon::WorkerTasks
  
  
  <span class="private note title">Private</span>
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Ronin::Recon::WorkerTasks</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ronin/recon/worker_tasks.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This class is part of a private API.</strong>
  You should avoid using this class if possible, as it may be removed or be changed in the future.
</p>
<p>Contains the <code>Async::Task</code> objects that process messages from the input
queue and sends messages to the output queue.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#concurrency-instance_method" title="#concurrency (instance method)">#<strong>concurrency</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The number of async worker tasks to spawn.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The recon worker&#39;s ID.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#input_queue-instance_method" title="#input_queue (instance method)">#<strong>input_queue</strong>  &#x21d2; Async::Queue </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The input queue for the worker(s).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#logger-instance_method" title="#logger (instance method)">#<strong>logger</strong>  &#x21d2; Console::Logger </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The logger for debug messages.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#output_queue-instance_method" title="#output_queue (instance method)">#<strong>output_queue</strong>  &#x21d2; Async::Queue </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The output queue for the worker(s).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#worker-instance_method" title="#worker (instance method)">#<strong>worker</strong>  &#x21d2; Worker </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The worker object.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enqueue_mesg-instance_method" title="#enqueue_mesg (instance method)">#<strong>enqueue_mesg</strong>(mesg)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Routes a message to the worker.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(worker, concurrency: worker.class.concurrency, output_queue:, params: nil, logger: Console.logger)  &#x21d2; WorkerTasks </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Initializes the worker tasks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Runs the worker.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>(task = Async::Task.current)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Starts the worker.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#started!-instance_method" title="#started! (instance method)">#<strong>started!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Marks the worker as running.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stopped!-instance_method" title="#stopped! (instance method)">#<strong>stopped!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Marks the worker as stopped.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(worker, concurrency: worker.class.concurrency, output_queue:, params: nil, logger: Console.logger)  &#x21d2; <tt><span class='object_link'><a href="" title="Ronin::Recon::WorkerTasks (class)">WorkerTasks</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Initializes the worker tasks.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>worker</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Worker.html" title="Ronin::Recon::Worker (class)">Worker</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The initialized worker object.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>concurrency</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>worker.class.concurrency</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The number of async tasks to spawn.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>output_queue</span>
      
      
        <span class='type'>(<tt>Async::Queue</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The output queue to send discovered values to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>logger</span>
      
      
        <span class='type'>(<tt>Console::Logger</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Console.logger</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The console logger object.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 87</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_worker'>worker</span><span class='comma'>,</span> <span class='label'>concurrency:</span>  <span class='id identifier rubyid_worker'>worker</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_concurrency'>concurrency</span><span class='comma'>,</span>
                       <span class='label'>output_queue:</span> <span class='comma'>,</span>
                       <span class='label'>params:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='label'>logger:</span> <span class='const'>Console</span><span class='period'>.</span><span class='id identifier rubyid_logger'>logger</span><span class='rparen'>)</span>
  <span class='ivar'>@worker</span>      <span class='op'>=</span> <span class='id identifier rubyid_worker'>worker</span>
  <span class='ivar'>@concurrency</span> <span class='op'>=</span> <span class='id identifier rubyid_concurrency'>concurrency</span>

  <span class='ivar'>@input_queue</span>  <span class='op'>=</span> <span class='const'>Async</span><span class='op'>::</span><span class='const'>Queue</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@output_queue</span> <span class='op'>=</span> <span class='id identifier rubyid_output_queue'>output_queue</span>

  <span class='ivar'>@logger</span> <span class='op'>=</span> <span class='id identifier rubyid_logger'>logger</span>

  <span class='ivar'>@tasks</span>  <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="concurrency-instance_method">
  
    #<strong>concurrency</strong>  &#x21d2; <tt>Integer</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The number of async worker tasks to spawn.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 50</span>

<span class='kw'>def</span> <span class='id identifier rubyid_concurrency'>concurrency</span>
  <span class='ivar'>@concurrency</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>String</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The recon worker&#39;s ID.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='ivar'>@id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="input_queue-instance_method">
  
    #<strong>input_queue</strong>  &#x21d2; <tt>Async::Queue</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The input queue for the worker(s).</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Async::Queue</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_input_queue'>input_queue</span>
  <span class='ivar'>@input_queue</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="logger-instance_method">
  
    #<strong>logger</strong>  &#x21d2; <tt>Console::Logger</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The logger for debug messages.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Console::Logger</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_logger'>logger</span>
  <span class='ivar'>@logger</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="output_queue-instance_method">
  
    #<strong>output_queue</strong>  &#x21d2; <tt>Async::Queue</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The output queue for the worker(s).</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Async::Queue</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 65</span>

<span class='kw'>def</span> <span class='id identifier rubyid_output_queue'>output_queue</span>
  <span class='ivar'>@output_queue</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="worker-instance_method">
  
    #<strong>worker</strong>  &#x21d2; <tt><span class='object_link'><a href="Worker.html" title="Ronin::Recon::Worker (class)">Worker</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The worker object.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Worker.html" title="Ronin::Recon::Worker (class)">Worker</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_worker'>worker</span>
  <span class='ivar'>@worker</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="enqueue_mesg-instance_method">
  
    #<strong>enqueue_mesg</strong>(mesg)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Routes a message to the worker.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>mesg</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Message/Value.html" title="Ronin::Recon::Message::Value (class)">Message::Value</a></span></tt>, <tt>Message::STOP</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The message to route.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112
113
114
115
116
117
118</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 108</span>

<span class='kw'>def</span> <span class='id identifier rubyid_enqueue_mesg'>enqueue_mesg</span><span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_mesg'>mesg</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message.html#SHUTDOWN-constant" title="Ronin::Recon::Message::SHUTDOWN (constant)">SHUTDOWN</a></span></span>
    <span class='comment'># push the Stop message for each worker task
</span>    <span class='ivar'>@concurrency</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
      <span class='ivar'>@input_queue</span><span class='period'>.</span><span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@input_queue</span><span class='period'>.</span><span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run-instance_method">
  
    #<strong>run</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Runs the worker.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span>
  <span class='comment'># HACK: for some reason `until (mesg = ...) == Message::SHUTDOWn)`
</span>  <span class='comment'># causes `Message::SHUTDOWN` objects to slip by. Changing it to a
</span>  <span class='comment'># `loop do` fixes this for some reason.
</span>  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='ivar'>@input_queue</span><span class='period'>.</span><span class='id identifier rubyid_dequeue'>dequeue</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message.html#SHUTDOWN-constant" title="Ronin::Recon::Message::SHUTDOWN (constant)">SHUTDOWN</a></span></span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_mesg'>mesg</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>

    <span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message/JobStarted.html" title="Ronin::Recon::Message::JobStarted (class)">JobStarted</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Message/JobStarted.html#initialize-instance_method" title="Ronin::Recon::Message::JobStarted#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@worker</span><span class='comma'>,</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='rparen'>)</span>

    <span class='kw'>begin</span>
      <span class='ivar'>@worker</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='op'>|</span>
        <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Output value yielded: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@worker</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

        <span class='id identifier rubyid_new_value'>new_value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message/Value.html" title="Ronin::Recon::Message::Value (class)">Value</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Message/Value.html#initialize-instance_method" title="Ronin::Recon::Message::Value#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='label'>worker:</span> <span class='ivar'>@worker</span><span class='comma'>,</span>
                                               <span class='label'>parent:</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span>
                                               <span class='label'>depth:</span>  <span class='id identifier rubyid_mesg'>mesg</span><span class='period'>.</span><span class='id identifier rubyid_depth'>depth</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>

        <span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='id identifier rubyid_new_value'>new_value</span><span class='rparen'>)</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message/JobCompleted.html" title="Ronin::Recon::Message::JobCompleted (class)">JobCompleted</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Message/JobCompleted.html#initialize-instance_method" title="Ronin::Recon::Message::JobCompleted#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@worker</span><span class='comma'>,</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
      <span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message/JobFailed.html" title="Ronin::Recon::Message::JobFailed (class)">JobFailed</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Message/JobFailed.html#initialize-instance_method" title="Ronin::Recon::Message::JobFailed#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@worker</span><span class='comma'>,</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span><span class='id identifier rubyid_error'>error</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_stopped!'>stopped!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start-instance_method">
  
    #<strong>start</strong>(task = Async::Task.current)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Starts the worker.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>task</span>
      
      
        <span class='type'>(<tt>Async::Task</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Async::Task.current</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The optional async task to register the worker under.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='op'>=</span><span class='const'>Async</span><span class='op'>::</span><span class='const'>Task</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='rparen'>)</span>
  <span class='comment'># mark the worker as running
</span>  <span class='id identifier rubyid_started!'>started!</span>

  <span class='ivar'>@tasks</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='ivar'>@concurrency</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
    <span class='ivar'>@tasks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_async'>async</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_run'>run</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="started!-instance_method">
  
    #<strong>started!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Marks the worker as running.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_started!'>started!</span>
  <span class='comment'># send a message to the engine that the worker task has started
</span>  <span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message/WorkerStarted.html" title="Ronin::Recon::Message::WorkerStarted (class)">WorkerStarted</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Message/WorkerStarted.html#initialize-instance_method" title="Ronin::Recon::Message::WorkerStarted#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@worker</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stopped!-instance_method">
  
    #<strong>stopped!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Marks the worker as stopped.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186
187</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/recon/worker_tasks.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stopped!'>stopped!</span>
  <span class='comment'># send a message to the engine that the worker task has stopped
</span>  <span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Message.html" title="Ronin::Recon::Message (module)">Message</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Message/WorkerStopped.html" title="Ronin::Recon::Message::WorkerStopped (class)">WorkerStopped</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Message/WorkerStopped.html#initialize-instance_method" title="Ronin::Recon::Message::WorkerStopped#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@worker</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon May 27 23:23:54 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.1.5).
</div>

    </div>
  </body>
</html>